{"version":3,"sources":["webpack:///./src/components/ContentLoading.vue?a747","webpack:///./src/components/ContentLoading.vue","webpack:///./node_modules/core-js/modules/es.math.trunc.js","webpack:///./src/components/RecordsTable.vue?a98a","webpack:///src/components/RecordsTable.vue","webpack:///./src/components/RecordsTable.vue?b9e7","webpack:///./src/components/RecordsTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","script","component","$","ceil","Math","floor","target","stat","trunc","it","attrs","_s","isMyRecordsTable","records","length","_e","_l","record","attempt","index","key","_id","previous_attempts","quiz","title","owner","name","humanizeDate","start_date","submission_date","computeTimeTaken","undefined","grade","computeVariant","total_mark","data","quizTitle","$route","path","methods","Date","date","toLocaleString","formatted","pass_grade","components","ContentLoading"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,YAAY,CAACE,YAAY,sBAAsBF,EAAG,SAAS,CAACJ,EAAIO,GAAG,kBAAkB,IAC/NC,EAAkB,G,YCAlBC,EAAS,GAKTC,EAAY,eACdD,EACAV,EACAS,GACA,EACA,KACA,KACA,MAIa,OAAAE,E,8BCjBf,IAAIC,EAAI,EAAQ,QAEZC,EAAOC,KAAKD,KACZE,EAAQD,KAAKC,MAIjBH,EAAE,CAAEI,OAAQ,OAAQC,MAAM,GAAQ,CAChCC,MAAO,SAAeC,GACpB,OAAQA,EAAK,EAAIJ,EAAQF,GAAMM,O,yCCTnC,IAAInB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,iBAAiB,CAACE,YAAY,cAAca,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,WAAa,GAAG,SAAW,GAAG,cAAc,KAAK,CAACf,EAAG,UAAU,CAACJ,EAAIO,GAAG,IAAIP,EAAIoB,GAAGpB,EAAIqB,iBAAmB,oBAAsB,gBAAgB,KAAOrB,EAAIsB,QAAQC,OAAsCvB,EAAIwB,KAAlC,CAACxB,EAAIO,GAAG,uBAAgC,GAAGH,EAAG,UAAU,CAACe,MAAM,CAAC,eAAe,SAAS,CAACf,EAAG,OAAO,CAAEJ,EAAoB,iBAAEI,EAAG,OAAO,CAACJ,EAAIO,GAAG,UAAUP,EAAIwB,KAAKpB,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIoB,GAAGpB,EAAIqB,iBAAmB,UAAY,iBAAiBjB,EAAG,OAAO,CAACe,MAAM,CAAC,QAAU,MAAM,CAACnB,EAAIO,GAAG,uBAAuB,GAAGH,EAAG,OAAO,CAACA,EAAG,OAAO,CAACe,MAAM,CAAC,QAAUnB,EAAIqB,iBAAmB,EAAI,KAAKjB,EAAG,OAAO,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,OAAO,CAACJ,EAAIO,GAAG,qBAAqBH,EAAG,OAAO,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,OAAO,CAACJ,EAAIO,GAAG,WAAWH,EAAG,OAAO,CAACJ,EAAIO,GAAG,aAAa,IAAI,GAAGH,EAAG,UAAU,CAACJ,EAAIyB,GAAIzB,EAAW,SAAE,SAAS0B,GAAQ,OAAO1B,EAAIyB,GAAIC,EAAwB,mBAAE,SAASC,EAAQC,GAAO,OAAOxB,EAAG,OAAO,CAACyB,IAAIH,EAAOI,IAAMF,GAAO,CAAEF,EAAW,KAAE,CAAE1B,EAAIqB,kBAA8B,IAAVO,EAAaxB,EAAG,OAAO,CAACe,MAAM,CAAC,QAAUO,EAAOK,kBAAkBR,SAAS,CAACvB,EAAIO,GAAG,IAAIP,EAAIoB,GAAGM,EAAOM,KAAKC,OAAO,OAAOjC,EAAIwB,KAAgB,IAAVI,EAAaxB,EAAG,OAAO,CAACe,MAAM,CAAC,QAAUO,EAAOK,kBAAkBR,SAAS,CAAEvB,EAAoB,iBAAE,CAAE0B,EAAOM,KAAU,MAAE,CAAChC,EAAIO,GAAG,IAAIP,EAAIoB,GAAGM,EAAOM,KAAKE,MAAMC,MAAM,MAAM/B,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,0BAA0B,CAAEmB,EAAY,MAAE,CAAC1B,EAAIO,GAAG,IAAIP,EAAIoB,GAAGM,EAAOQ,MAAMC,MAAM,MAAM/B,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,2BAA2B,GAAGP,EAAIwB,MAAM,CAAY,IAAVI,EAAaxB,EAAG,OAAO,CAACe,MAAM,CAAC,QAAUO,EAAOK,kBAAkBR,OAAO,QAAUvB,EAAIqB,iBAAmB,EAAI,IAAI,CAACjB,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,iBAAiBH,EAAG,QAAQ,CAACJ,EAAIO,GAAG,mCAAmCP,EAAIwB,MAAMpB,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIoB,GAAGpB,EAAIoC,aAAaT,EAAQU,gBAAiBV,EAAuB,gBAAE,CAACvB,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIoB,GAAGpB,EAAIoC,aAAaT,EAAQW,qBAAqBlC,EAAG,OAAO,CAACJ,EAAIO,GAAG,IAAIP,EAAIoB,GAAGpB,EAAIuC,iBAAiBZ,EAAQW,gBAAiBX,EAAQU,aAAa,YAA0BG,IAAlBb,EAAQc,MAAqB,CAACrC,EAAG,OAAO,CAACe,MAAM,CAAC,QAAUnB,EAAI0C,eAAef,EAASD,EAAOM,QAAQ,CAAChC,EAAIO,GAAG,IAAIP,EAAIoB,GAAGO,EAAQc,MAAQ,IAAMd,EAAQgB,YAAY,OAAOvC,EAAG,OAAO,CAACA,EAAG,cAAc,CAACe,MAAM,CAAC,GAAK,WAAaO,EAAOI,IAAM,IAAMF,IAAQ,CAACxB,EAAG,IAAI,CAACe,MAAM,CAAC,KAAO,WAAaO,EAAOI,IAAM,IAAMF,IAAQ,CAAC5B,EAAIO,GAAG,eAAe,IAAI,CAACH,EAAG,OAAO,CAACE,YAAY,aAAaa,MAAM,CAAC,QAAU,MAAM,CAACnB,EAAIO,GAAG,oBAAoBH,EAAG,OAAO,CAACe,MAAM,CAAC,QAAU,YAAY,QAAU,MAAM,CAACnB,EAAIO,GAAG,mBAAmB,UAAQ,IAAI,GAAGH,EAAG,mBAAmB,IAC9nFI,EAAkB,G,0DCmHtB,GACE2B,KAAM,eACN,QAFF,WAEA,4JACA,mBADA,gCAEA,4CAFA,OAEA,UAFA,OAEA,KAFA,gDAMA,iDACA,sCAPA,OAKA,UALA,OASA,KATA,qDAWA,2BACA,kCACA,2BACA,iBAdA,6DAmBES,KArBF,WAsBI,MAAO,CACLtB,QAAS,KACTuB,UAAW,GACXxB,iBAAuC,aAArBpB,KAAK6C,OAAOC,OAGlCC,QAAS,CACPZ,aADJ,SACA,GACM,OAAO,IAAIa,KAAKC,GAAMC,kBAExBZ,iBAJJ,SAIA,KACM,IAAN,0BACA,qBACA,yBACA,wBACA,GACA,EACA,EACA,OACA,aACA,cACA,KACA,EACA,kCACA,KACA,EACA,6BACA,IACM,OAAOa,GAAwB,UAEjCV,eAxBJ,SAwBA,KACM,OAAKV,GAA4B,OAApBA,EAAKqB,WAExB,sBACe,UAEF,SAJE,KAObC,WAAY,CACVC,eAAgBA,EAApB,OClLsV,I,YCOlV7C,EAAY,eACd,EACAX,EACAS,GACA,EACA,KACA,KACA,MAIa,aAAAE,E","file":"js/chunk-4f188fe6.30c440f3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center my-5\"},[_c('b-spinner',{staticClass:\"align-middle mr-2\"}),_c('strong',[_vm._v(\"Loading ...\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ContentLoading.vue?vue&type=template&id=4340360b&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.records)?_c('b-table-simple',{staticClass:\"text-center\",attrs:{\"hover\":\"\",\"small\":\"\",\"responsive\":\"\",\"bordered\":\"\",\"caption-top\":\"\"}},[_c('caption',[_vm._v(\" \"+_vm._s(_vm.isMyRecordsTable ? \"Previous Attempts\" : \"Quiz results\")+\" \"),(!_vm.records.length)?[_vm._v(\"(Nothing to show)\")]:_vm._e()],2),_c('b-thead',{attrs:{\"head-variant\":\"dark\"}},[_c('b-tr',[(_vm.isMyRecordsTable)?_c('b-th',[_vm._v(\"Quiz\")]):_vm._e(),_c('b-th',[_vm._v(_vm._s(_vm.isMyRecordsTable ? \"Quiz by\" : \"Attempt by\"))]),_c('b-th',{attrs:{\"colspan\":\"6\"}},[_vm._v(\"Attempts Summary\")])],1),_c('b-tr',[_c('b-th',{attrs:{\"colspan\":_vm.isMyRecordsTable ? 2 : 1}}),_c('b-th',[_vm._v(\"Started on\")]),_c('b-th',[_vm._v(\"Submission Date\")]),_c('b-th',[_vm._v(\"Time Taken\")]),_c('b-th',[_vm._v(\"Grade\")]),_c('b-th',[_vm._v(\"Review\")])],1)],1),_c('b-tbody',[_vm._l((_vm.records),function(record){return _vm._l((record.previous_attempts),function(attempt,index){return _c('b-tr',{key:record._id + index},[(record.quiz)?[(_vm.isMyRecordsTable && index === 0)?_c('b-th',{attrs:{\"rowspan\":record.previous_attempts.length}},[_vm._v(\" \"+_vm._s(record.quiz.title)+\" \")]):_vm._e(),(index === 0)?_c('b-th',{attrs:{\"rowspan\":record.previous_attempts.length}},[(_vm.isMyRecordsTable)?[(record.quiz.owner)?[_vm._v(\" \"+_vm._s(record.quiz.owner.name)+\" \")]:_c('span',{staticClass:\"text-muted\"},[_vm._v(\" [ACCOUNT DELETED] \")])]:[(record.owner)?[_vm._v(\" \"+_vm._s(record.owner.name)+\" \")]:_c('span',{staticClass:\"text-muted\"},[_vm._v(\" [ACCOUNT DELETED] \")])]],2):_vm._e()]:[(index === 0)?_c('b-th',{attrs:{\"rowspan\":record.previous_attempts.length,\"colspan\":_vm.isMyRecordsTable ? 2 : 1}},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\" [DELETED] \")]),_c('small',[_vm._v(\" Review is still available \")])]):_vm._e()],_c('b-td',[_vm._v(_vm._s(_vm.humanizeDate(attempt.start_date)))]),(attempt.submission_date)?[_c('b-td',[_vm._v(_vm._s(_vm.humanizeDate(attempt.submission_date)))]),_c('b-td',[_vm._v(\" \"+_vm._s(_vm.computeTimeTaken(attempt.submission_date, attempt.start_date))+\" \")]),(attempt.grade !== undefined)?[_c('b-td',{attrs:{\"variant\":_vm.computeVariant(attempt, record.quiz)}},[_vm._v(\" \"+_vm._s(attempt.grade + \"/\" + attempt.total_mark)+\" \")]),_c('b-td',[_c('router-link',{attrs:{\"to\":'/review/' + record._id + '/' + index}},[_c('a',{attrs:{\"href\":'/review/' + record._id + '/' + index}},[_vm._v(\"Review\")])])],1)]:[_c('b-td',{staticClass:\"text-muted\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"Not Permited\")])]]:_c('b-td',{attrs:{\"variant\":\"secondary\",\"colspan\":\"4\"}},[_vm._v(\"Not Complete\")])],2)})})],2)],1):_c('ContentLoading')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-table-simple\r\n      v-if=\"records\"\r\n      hover\r\n      small\r\n      responsive\r\n      bordered\r\n      caption-top\r\n      class=\"text-center\"\r\n    >\r\n      <caption>\r\n        {{\r\n          isMyRecordsTable ? \"Previous Attempts\" : \"Quiz results\"\r\n        }}\r\n        <template v-if=\"!records.length\">(Nothing to show)</template>\r\n      </caption>\r\n      <b-thead head-variant=\"dark\">\r\n        <b-tr>\r\n          <b-th v-if=\"isMyRecordsTable\">Quiz</b-th>\r\n          <b-th>{{ isMyRecordsTable ? \"Quiz by\" : \"Attempt by\" }}</b-th>\r\n          <b-th colspan=\"6\">Attempts Summary</b-th>\r\n        </b-tr>\r\n        <b-tr>\r\n          <b-th :colspan=\"isMyRecordsTable ? 2 : 1\"></b-th>\r\n          <b-th>Started on</b-th>\r\n          <b-th>Submission Date</b-th>\r\n          <b-th>Time Taken</b-th>\r\n          <b-th>Grade</b-th>\r\n          <b-th>Review</b-th>\r\n        </b-tr>\r\n      </b-thead>\r\n      <b-tbody>\r\n        <template v-for=\"record in records\">\r\n          <b-tr\r\n            v-for=\"(attempt, index) in record.previous_attempts\"\r\n            :key=\"record._id + index\"\r\n          >\r\n            <template v-if=\"record.quiz\">\r\n              <b-th\r\n                v-if=\"isMyRecordsTable && index === 0\"\r\n                :rowspan=\"record.previous_attempts.length\"\r\n              >\r\n                {{ record.quiz.title }}\r\n              </b-th>\r\n              <b-th\r\n                v-if=\"index === 0\"\r\n                :rowspan=\"record.previous_attempts.length\"\r\n              >\r\n                <template v-if=\"isMyRecordsTable\">\r\n                  <template v-if=\"record.quiz.owner\">\r\n                    {{ record.quiz.owner.name }}\r\n                  </template>\r\n                  <span v-else class=\"text-muted\">\r\n                    [ACCOUNT DELETED]\r\n                  </span>\r\n                </template>\r\n                <template v-else>\r\n                  <template v-if=\"record.owner\">\r\n                    {{ record.owner.name }}\r\n                  </template>\r\n                  <span v-else class=\"text-muted\">\r\n                    [ACCOUNT DELETED]\r\n                  </span>\r\n                </template>\r\n              </b-th>\r\n            </template>\r\n            <template v-else>\r\n              <b-th\r\n                v-if=\"index === 0\"\r\n                :rowspan=\"record.previous_attempts.length\"\r\n                :colspan=\"isMyRecordsTable ? 2 : 1\"\r\n              >\r\n                <span class=\"text-muted\">\r\n                  [DELETED]\r\n                </span>\r\n                <small>\r\n                  Review is still available\r\n                </small>\r\n              </b-th>\r\n            </template>\r\n            <b-td>{{ humanizeDate(attempt.start_date) }}</b-td>\r\n            <template v-if=\"attempt.submission_date\">\r\n              <b-td>{{ humanizeDate(attempt.submission_date) }}</b-td>\r\n              <b-td>\r\n                {{\r\n                  computeTimeTaken(attempt.submission_date, attempt.start_date)\r\n                }}\r\n              </b-td>\r\n              <template v-if=\"attempt.grade !== undefined\">\r\n                <b-td :variant=\"computeVariant(attempt, record.quiz)\">\r\n                  {{ attempt.grade + \"/\" + attempt.total_mark }}\r\n                </b-td>\r\n                <b-td>\r\n                  <router-link :to=\"'/review/' + record._id + '/' + index\">\r\n                    <a :href=\"'/review/' + record._id + '/' + index\">Review</a>\r\n                  </router-link>\r\n                </b-td>\r\n              </template>\r\n              <template v-else>\r\n                <b-td colspan=\"2\" class=\"text-muted\">Not Permited</b-td>\r\n              </template>\r\n            </template>\r\n            <b-td v-else variant=\"secondary\" colspan=\"4\">Not Complete</b-td>\r\n          </b-tr>\r\n        </template>\r\n      </b-tbody>\r\n    </b-table-simple>\r\n    <ContentLoading v-else />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ContentLoading from \"./ContentLoading\";\r\nimport API from \"@/api\";\r\n\r\nexport default {\r\n  name: \"RecordsTable\",\r\n  async created() {\r\n    if (this.isMyRecordsTable) {\r\n      this.records = (await API(\"/records/my-records\", \"get\")).data;\r\n    } else {\r\n      try {\r\n        this.records = (\r\n          await API(\"/records/my-quiz-records\", \"get\", {\r\n            headers: { quizID: this.$route.params.id }\r\n          })\r\n        ).data;\r\n      } catch (e) {\r\n        this.$router.push(\"/quizzes\");\r\n        this.$store.dispatch(\"updateAlerts\", {\r\n          message: e.response.data,\r\n          color: \"danger\"\r\n        });\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      records: null,\r\n      quizTitle: \"\",\r\n      isMyRecordsTable: this.$route.path === \"/quizzes\"\r\n    };\r\n  },\r\n  methods: {\r\n    humanizeDate(date) {\r\n      return new Date(date).toLocaleString();\r\n    },\r\n    computeTimeTaken(endDate, startDate) {\r\n      const diff = new Date(endDate) - new Date(startDate);\r\n      const hours = Math.trunc(diff / 3600000);\r\n      const minutes = Math.trunc((diff % 3600000) / 60000);\r\n      const seconds = Math.trunc((diff % 60000) / 1000);\r\n      const formatted =\r\n        (hours\r\n          ? hours +\r\n            \" hr\" +\r\n            (hours > 1 ? \"s\" : \"\") +\r\n            (minutes || seconds ? \", \" : \"\")\r\n          : \"\") +\r\n        (minutes\r\n          ? minutes + \" min\" + (minutes > 1 ? \"s\" : \"\") + (seconds ? \", \" : \"\")\r\n          : \"\") +\r\n        (seconds\r\n          ? seconds + \" sec\" + (seconds > 1 || seconds === 0 ? \"s\" : \"\")\r\n          : \"\");\r\n      return formatted ? formatted : \"0 secs\";\r\n    },\r\n    computeVariant(attempt, quiz) {\r\n      if (!quiz || quiz.pass_grade === null) {\r\n        return \"\";\r\n      } else if (attempt.grade >= quiz.pass_grade) {\r\n        return \"success\";\r\n      }\r\n      return \"danger\";\r\n    }\r\n  },\r\n  components: {\r\n    ContentLoading: ContentLoading\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecordsTable.vue?vue&type=template&id=24f98dde&\"\nimport script from \"./RecordsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./RecordsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}