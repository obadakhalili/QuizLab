(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6ad9e36"],{"030d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center my-5"},[n("b-spinner",{staticClass:"align-middle mr-2"}),n("strong",[e._v("Loading ...")])],1)},s=[],r=n("2877"),o={},a=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=a.exports},"5bc5":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return w}));
/*! (c) 2020 Andrea Giammarchi */
const{parse:i,stringify:s}=JSON,{keys:r}=Object,o=String,a="string",c="object",u=(e,t)=>t,d=e=>e instanceof o?o(e):e,l=(e,t)=>typeof t===a?new o(t):t,h=(e,t,n,i)=>r(n).reduce((n,s)=>{const r=n[s];if(r instanceof o){const o=e[r];typeof o!==c||t.has(o)?n[s]=i.call(n,s,o):(t.add(o),n[s]=i.call(n,s,h(e,t,o,i)))}else n[s]=i.call(n,s,r);return n},n),v=(e,t,n)=>{const i=o(t.push(n)-1);return e.set(n,i),i},f=(e,t)=>{const n=i(e,l).map(d),s=n[0],r=t||u,o=typeof s===c&&s?h(n,new Set,s,r):s;return r.call({"":o},"",o)},w=(e,t,n)=>{const i=t&&typeof t===c?(e,n)=>""===e||-1<t.indexOf(e)?n:void 0:t||u,r=new Map,o=[],d=[];let l=+v(r,o,i.call({"":e},"",e)),h=!l;while(l<o.length)h=!0,d[l]=s(o[l++],f,n);return"["+d.join(",")+"]";function f(e,t){if(h)return h=!h,t;const n=i.call(this,e,t);switch(typeof n){case c:if(null===n)return n;case a:return r.get(n)||v(r,o,n)}return n}}},7579:function(e,t,n){},"99af":function(e,t,n){"use strict";var i=n("23e7"),s=n("d039"),r=n("e8b5"),o=n("861d"),a=n("7b0b"),c=n("50c4"),u=n("8418"),d=n("65f0"),l=n("1dde"),h=n("b622"),v=n("2d00"),f=h("isConcatSpreadable"),w=9007199254740991,p="Maximum allowed index exceeded",m=v>=51||!s((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),b=l("concat"),g=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)},Q=!m||!b;i({target:"Array",proto:!0,forced:Q},{concat:function(e){var t,n,i,s,r,o=a(this),l=d(o,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(r=-1===t?o:arguments[t],g(r)){if(s=c(r.length),h+s>w)throw TypeError(p);for(n=0;n<s;n++,h++)n in r&&u(l,h,r[n])}else{if(h>=w)throw TypeError(p);u(l,h++,r)}return l.length=h,l}})},a8e9:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.quiz?n("b-row",[n("b-col",{attrs:{lg:"3"}},[n("b-row",[n("b-col",{attrs:{cols:"8"}},[n("h5",[e._v(e._s(e.quiz.title))])]),e.options.timeLimit?n("b-col",{staticClass:"text-right",attrs:{cols:"4"}},[n("CountdownTimer",{attrs:{timeLimit:e.options.timeLimit},on:{timeUp:e.submitAnswers}})],1):e._e()],1),e.path.length?n("div",{staticClass:"noselect my-2"},[e._l(e.path,(function(t,i){return n("strong",{key:i},[n("span",{staticClass:"path--section-name",on:{click:function(n){return e.changeViewedSection(t)}}},[e._v(" "+e._s(e.nameSection(t.title))+" ")]),i!==e.path.length-1||0!==e.viewedQuestionNumber?n("RightArrow"):e._e()],1)})),e.viewedQuestionNumber?n("strong",{staticClass:"path--viewed-question-number"},[e._v(" "+e._s(e.viewedQuestionNumber)+" ")]):e._e()],2):e._e(),e.nestedSections.length?n("SectionsNavigator",{attrs:{sections:e.nestedSections},on:{"change-viewed-section":e.changeViewedSection}}):e._e(),e.nestedQuestions.length?n("QuestionsNavigator",{attrs:{questions:e.nestedQuestions,viewedQuestion:e.viewedQuestion,blockAfterAnswer:e.options.blockAfterAnswer},on:{"change-viewed-question":function(t){return e.viewedQuestion=t}}}):e._e(),0===e.viewedSection.content.length?n("h6",[e._v(" No sections or questions to show ")]):e._e(),n("div",{staticClass:"my-3"},[e.isAttempt?n("b-button",{staticClass:"mr-1",attrs:{variant:"dark",size:"sm"},on:{click:e.confirmSubmission}},[e._v(" Submit Answers ")]):e.isAuthor?n("b-button",{staticClass:"mr-1",attrs:{variant:"success",size:"sm"},on:{click:e.gradeAttempt}},[e._v(" Grade ")]):e._e(),n("router-link",{attrs:{to:"/quizzes"}},[n("b-button",{attrs:{variant:"secondary",size:"sm"}},[e._v(" Leave ")])],1)],1)],1),n("b-col",{attrs:{lg:"9"}},[n("b-row",[n("b-col",{attrs:{cols:"10"}},[e.viewedQuestion?n("QuestionView",{attrs:{question:e.viewedQuestion,thereIsNext:e.thereIsNext},on:{"view-next-question":e.viewNextQuestion}}):e._e()],1),e.viewedQuestion?n("b-col",{staticClass:"text-center p-0",attrs:{cols:"2"}},[n("div",{staticClass:"question-sidebar"},[n("div",{staticClass:"question-details"},[n("div",{staticClass:"details--viewed-question-number text-white"},[e._v(" Q. "+e._s(e.viewedQuestionNumber)+" ")]),n("h1",{staticClass:"display-4 m-0"},[e._v(" "+e._s(e.viewedQuestion.weight?e.viewedQuestion.weight:0)+" ")]),n("label",[e._v("Weight")])]),e.viewedQuestion.isBonus?n("div",{staticClass:"bonus-question"},[e._v(" Bonus ")]):e._e(),e.isAuthor?n("b-input",{staticClass:"mt-3",attrs:{type:"number",placeholder:"Grade"},model:{value:e.viewedQuestion.grade,callback:function(t){e.$set(e.viewedQuestion,"grade",t)},expression:"viewedQuestion.grade"}}):e._e()],1)]):e._e()],1)],1)],1):n("ContentLoading")},s=[],r=(n("99af"),n("4de4"),n("7db0"),n("c740"),n("d3b7"),n("2ca0"),n("96cf"),n("1da1")),o=n("5bc5"),a=n("030d"),c=n("365c"),u={created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,s,r,a,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isAttempt){t.next=11;break}return t.next=4,Object(c["a"])("/records/attempt-quiz","post",{quizID:e.$route.params.id});case 4:if(i=t.sent,201!==i.status){t.next=7;break}throw{response:i,color:"info"};case 7:e.options=i.data.options,n=i.data.viewContent,t.next=18;break;case 11:return e.confirmLeave=!1,s=e.$route.params,r=s.id,a=s.index,t.next=15,Object(c["a"])("/records/attempt-review/".concat(r,"/").concat(a),"get");case 15:u=t.sent,e.isAuthor=u.data.isAuthor,n=u.data.attemptView;case 18:e.quiz=Object(o["a"])(n),e.viewedSection=e.quiz,e.viewedQuestion=e.nestedQuestions[0],t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](0),e.confirmLeave=!1,e.$router.push("/quizzes"),e.$store.dispatch("updateAlerts",{message:t.t0.response.data,color:t.t0.color||"danger"});case 28:case"end":return t.stop()}}),t,null,[[0,23]])})))()},data:function(){return{options:{},quiz:null,viewedSection:null,viewedQuestion:null,confirmLeave:!0,isAuthor:!1,isAttempt:this.$route.path.startsWith("/attempt")}},computed:{path:function(){var e=[],t=function t(n){e.unshift(n),n.parentSection&&t(n.parentSection)};return this.viewedSection.parentSection&&(t(this.viewedSection.parentSection),e.push(this.viewedSection)),e},nestedSections:function(){return this.viewedSection.content.filter((function(e){return e.content}))},nestedQuestions:function(){return this.viewedSection.content.filter((function(e){return void 0!==e.weight}))},viewedQuestionNumber:function(){var e=this;return this.nestedQuestions.findIndex((function(t){return t===e.viewedQuestion}))+1},thereIsNext:function(){return this.viewedQuestionNumber<this.nestedQuestions.length}},methods:{changeViewedSection:function(e){this.viewedSection=e,this.viewedQuestion=this.nestedQuestions.find((function(e){return!1===e.viewed}))},nameSection:function(e){return e?e===this.quiz.title?"Main":e:"Unnamed section"},viewNextQuestion:function(){this.viewedQuestion.viewed=!0,this.viewedQuestion=this.nestedQuestions[this.viewedQuestionNumber]},confirmSubmission:function(){this.$store.dispatch("updateModalInfo",{message:"Sure you want to submit answers?",procedure:this.submitAnswers}),this.$bvModal.show("confirm-modal")},submitAnswers:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["a"])("/records/submit-answers","post",{quizID:e.$route.params.id,answers:Object(o["b"])(e.quiz)});case 2:n=t.sent,e.confirmLeave=!1,e.$router.push("/quizzes"),e.$store.dispatch("updateAlerts",{message:n.data,color:200===n.status?"success":"info"});case 6:case"end":return t.stop()}}),t)})))()},gradeAttempt:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$route.params,i=n.id,s=n.index,t.next=4,Object(c["a"])("/records/grade-attempt/".concat(i,"/").concat(s),"post",{attemptReview:Object(o["b"])(e.quiz)});case 4:r=t.sent,e.$store.dispatch("updateAlerts",{message:r.data,color:"success"}),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$router.push("/quizzes"),e.$store.dispatch("updateAlerts",{message:t.t0.response.data,color:"danger"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},beforeRouteLeave:function(e,t,n){this.confirmLeave?(this.$store.dispatch("updateModalInfo",{message:"Do you really want to leave? answers won't be submitted.",procedure:n}),this.$bvModal.show("confirm-modal")):n()},components:{ContentLoading:a["a"],CountdownTimer:function(){return n.e("chunk-0f113697").then(n.bind(null,"b7df"))},SectionsNavigator:function(){return n.e("chunk-0e5c29bc").then(n.bind(null,"ab52"))},QuestionsNavigator:function(){return n.e("chunk-3e608339").then(n.bind(null,"fdd0"))},QuestionView:function(){return n.e("chunk-9a06130e").then(n.bind(null,"faa1"))}}},d=u,l=(n("b136"),n("2877")),h=Object(l["a"])(d,i,s,!1,null,"40178ea7",null);t["default"]=h.exports},b136:function(e,t,n){"use strict";var i=n("7579"),s=n.n(i);s.a},c740:function(e,t,n){"use strict";var i=n("23e7"),s=n("b727").findIndex,r=n("44d2"),o=n("ae40"),a="findIndex",c=!0,u=o(a);a in[]&&Array(1)[a]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!u},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r(a)}}]);
//# sourceMappingURL=chunk-b6ad9e36.cc1e8ee5.js.map