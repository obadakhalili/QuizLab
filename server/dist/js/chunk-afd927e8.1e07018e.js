(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afd927e8","chunk-4f188fe6"],{"030d":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center my-5"},[s("b-spinner",{staticClass:"align-middle mr-2"}),s("strong",[e._v("Loading ...")])],1)},a=[],n=s("2877"),i={},c=Object(n["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},2532:function(e,t,s){"use strict";var r=s("23e7"),a=s("5a34"),n=s("1d80"),i=s("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(n(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"4d9f":function(e,t,s){},5536:function(e,t,s){"use strict";var r=s("4d9f"),a=s.n(r);a.a},"794b":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("DashboardHeader"),s("MyQuizzes",{staticClass:"my-quizzes-container"}),s("RecordsTable")],1)},a=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("b-row",[s("b-col",{attrs:{md:"8"}},[s("router-link",{attrs:{to:"/new"}},[s("b-button",{attrs:{size:"sm",variant:"info"}},[e._v(" Create New Quiz ")])],1)],1),s("b-col",{attrs:{md:"4"}},[s("b-form-row",{staticClass:"attempt-quiz-section"},[s("b-col",{attrs:{cols:"8"}},[s("b-input",{attrs:{size:"sm",placeholder:"Enter Quiz ID"},model:{value:e.quizID,callback:function(t){e.quizID=t},expression:"quizID"}})],1),s("b-col",{attrs:{cols:"4"}},[s("router-link",{attrs:{to:"/attempt/"+this.quizID}},[s("b-button",{staticClass:"w-100",attrs:{size:"sm",variant:"primary"}},[e._v(" Attempt ")])],1)],1)],1)],1)],1)],1)},i=[],c={name:"Controllers",data:function(){return{quizID:""}}},o=c,u=(s("5536"),s("2877")),l=Object(u["a"])(o,n,i,!1,null,null,null),d=l.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("b-row",[s("b-col",{attrs:{md:"8"}},[s("b-button",{staticClass:"mr-1",attrs:{disabled:!e.myQuizzes.length,size:"sm",variant:"secondary"},on:{click:e.toggleSelectedQuizzes}},[e._v(" "+e._s(e.selectedQuizzesLength>0?"Unselect All":"Select All")+" ")]),s("b-button",{attrs:{disabled:0===e.selectedQuizzesLength,size:"sm",variant:"danger"},on:{click:e.confirmDeleteSelectedQuizzes}},[e._v(" Delete Selected ")])],1),s("b-col",{attrs:{md:"4"}},[s("b-pagination",{staticClass:"pagination-bar",attrs:{"total-rows":e.myQuizzesCount,"per-page":e.perPage,size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),s("b-table",{attrs:{fields:e.myQuizzesFields,items:e.myQuizzes,busy:e.isBusy,currentPage:e.currentPage,perPage:e.perPage,"sort-by":e.fieldToSortWith,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":["title"],"primary-key":"_id",stacked:"lg","show-empty":"",small:""},scopedSlots:e._u([{key:"table-caption",fn:function(){return[s("b-row",[s("b-col",{attrs:{md:"8"}},[e._v("My Quizzes")]),s("b-col",{attrs:{md:"4"}},[s("b-input",{staticClass:"mb-1",attrs:{size:"sm",placeholder:"Type to filter"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{cols:"8"}},[s("b-form-select",{attrs:{options:e.sortingOptions,size:"sm"},model:{value:e.fieldToSortWith,callback:function(t){e.fieldToSortWith=t},expression:"fieldToSortWith"}})],1),s("b-col",{attrs:{cols:"4"}},[s("b-checkbox",{staticClass:"mt-1",model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[e._v("Desc")])],1)],1)],1)],1)]},proxy:!0},{key:"table-busy",fn:function(){return[s("div",{staticClass:"text-center my-5"},[s("b-spinner",{staticClass:"align-middle mr-2"}),s("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"cell(ID)",fn:function(t){return[s("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"clipboard",rawName:"v-clipboard",value:e.getAttemptLink(t.item._id),expression:"getAttemptLink(data.item._id)"}],attrs:{title:"Copy quiz attempt link"}},[e._v(" "+e._s(t.item._id)+" ")])]}},{key:"cell(Results)",fn:function(t){return[s("router-link",{attrs:{to:"/results/"+t.item._id}},[s("a",{attrs:{href:"/results/"+t.item._id}},[e._v("Results")])])]}},{key:"cell(createdAt)",fn:function(t){return[e._v(" "+e._s(e.humanizeDate(t,"createdAt"))+" ")]}},{key:"cell(updatedAt)",fn:function(t){return[e._v(" "+e._s(e.humanizeDate(t,"updatedAt"))+" ")]}},{key:"cell(Edit)",fn:function(t){return[s("router-link",{attrs:{to:"/edit/"+t.item._id}},[s("a",{attrs:{href:"/edit/"+t.item._id}},[e._v("Go to Lab")])])]}},{key:"cell(Selected)",fn:function(t){return[s("b-checkbox",{model:{value:t.item.selected,callback:function(s){e.$set(t.item,"selected",s)},expression:"data.item.selected"}})]}}])})],1)},b=[],f=(s("4de4"),s("4160"),s("caad"),s("d81d"),s("2532"),s("159b"),s("96cf"),s("1da1")),p=s("365c"),z={name:"DashboardHeader",created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["a"])("/quizzes","get");case 2:s=t.sent,r=s.data,r.forEach((function(e){return e.selected=!1})),e.myQuizzesCount=r.length,e.myQuizzes=r,e.isBusy=!1;case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{myQuizzesFields:[{key:"title"},"ID","Results",{key:"createdAt",label:"Created At"},{key:"updatedAt",label:"Updated At"},"Edit","Selected"],myQuizzes:[],myQuizzesCount:0,currentPage:1,perPage:3,filter:"",fieldToSortWith:"createdAt",sortingOptions:[{value:"createdAt",text:"Creation time"},{value:"updatedAt",text:"Update time"}],sortDesc:!0,isBusy:!0}},computed:{selectedQuizzes:function(){return this.myQuizzes.filter((function(e){return e.selected})).map((function(e){var t=e._id;return t}))},selectedQuizzesLength:function(){return this.selectedQuizzes.length}},methods:{getAttemptLink:function(e){return document.location.origin+"/attempt/"+e},toggleSelectedQuizzes:function(){0===this.selectedQuizzesLength?this.myQuizzes.forEach((function(e){e.selected=!0})):this.myQuizzes.forEach((function(e){e.selected=!1}))},confirmDeleteSelectedQuizzes:function(){var e=this;this.selectedQuizzesLength&&(this.$store.dispatch("updateModalInfo",{message:"Are you really sure you want to delete the selected quiz/quizzes? Once you press ok, there's no coming back.",procedure:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p["a"])("/quizzes/delete","post",e.selectedQuizzes);case 3:e.myQuizzesCount-=e.selectedQuizzesLength,e.myQuizzes=e.myQuizzes.filter((function(t){return!e.selectedQuizzes.includes(t._id)})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$store.dispatch("updateAlerts",{message:t.t0.response.data,color:"danger"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function s(){return t.apply(this,arguments)}return s}()}),this.$bvModal.show("confirm-modal"))},humanizeDate:function(e,t){return new Date(e.item[t]).toLocaleString()}}},h=z,v=(s("8881"),Object(u["a"])(h,m,b,!1,null,"40cb4c2d",null)),_=v.exports,g=s("ba54"),y={name:"Quizzes",data:function(){return{myRecords:null}},components:{MyQuizzes:_,DashboardHeader:d,RecordsTable:g["default"]}},k=y,w=(s("ffc2"),Object(u["a"])(k,r,a,!1,null,"41251f12",null));t["default"]=w.exports},8881:function(e,t,s){"use strict";var r=s("c552"),a=s.n(r);a.a},"948e":function(e,t,s){},b65f:function(e,t,s){var r=s("23e7"),a=Math.ceil,n=Math.floor;r({target:"Math",stat:!0},{trunc:function(e){return(e>0?n:a)(e)}})},ba54:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.records?s("b-table-simple",{staticClass:"text-center",attrs:{hover:"",small:"",responsive:"",bordered:"","caption-top":""}},[s("caption",[e._v(" "+e._s(e.isMyRecordsTable?"Previous Attempts":"Quiz results")+" "),e.records.length?e._e():[e._v("(Nothing to show)")]],2),s("b-thead",{attrs:{"head-variant":"dark"}},[s("b-tr",[e.isMyRecordsTable?s("b-th",[e._v("Quiz")]):e._e(),s("b-th",[e._v(e._s(e.isMyRecordsTable?"Quiz by":"Attempt by"))]),s("b-th",{attrs:{colspan:"6"}},[e._v("Attempts Summary")])],1),s("b-tr",[s("b-th",{attrs:{colspan:e.isMyRecordsTable?2:1}}),s("b-th",[e._v("Started on")]),s("b-th",[e._v("Submission Date")]),s("b-th",[e._v("Time Taken")]),s("b-th",[e._v("Grade")]),s("b-th",[e._v("Review")])],1)],1),s("b-tbody",[e._l(e.records,(function(t){return e._l(t.previous_attempts,(function(r,a){return s("b-tr",{key:t._id+a},[t.quiz?[e.isMyRecordsTable&&0===a?s("b-th",{attrs:{rowspan:t.previous_attempts.length}},[e._v(" "+e._s(t.quiz.title)+" ")]):e._e(),0===a?s("b-th",{attrs:{rowspan:t.previous_attempts.length}},[e.isMyRecordsTable?[t.quiz.owner?[e._v(" "+e._s(t.quiz.owner.name)+" ")]:s("span",{staticClass:"text-muted"},[e._v(" [ACCOUNT DELETED] ")])]:[t.owner?[e._v(" "+e._s(t.owner.name)+" ")]:s("span",{staticClass:"text-muted"},[e._v(" [ACCOUNT DELETED] ")])]],2):e._e()]:[0===a?s("b-th",{attrs:{rowspan:t.previous_attempts.length,colspan:e.isMyRecordsTable?2:1}},[s("span",{staticClass:"text-muted"},[e._v(" [DELETED] ")]),s("small",[e._v(" Review is still available ")])]):e._e()],s("b-td",[e._v(e._s(e.humanizeDate(r.start_date)))]),r.submission_date?[s("b-td",[e._v(e._s(e.humanizeDate(r.submission_date)))]),s("b-td",[e._v(" "+e._s(e.computeTimeTaken(r.submission_date,r.start_date))+" ")]),void 0!==r.grade?[s("b-td",{attrs:{variant:e.computeVariant(r,t.quiz)}},[e._v(" "+e._s(r.grade+"/"+r.total_mark)+" ")]),s("b-td",[s("router-link",{attrs:{to:"/review/"+t._id+"/"+a}},[s("a",{attrs:{href:"/review/"+t._id+"/"+a}},[e._v("Review")])])],1)]:[s("b-td",{staticClass:"text-muted",attrs:{colspan:"2"}},[e._v("Not Permited")])]]:s("b-td",{attrs:{variant:"secondary",colspan:"4"}},[e._v("Not Complete")])],2)}))}))],2)],1):s("ContentLoading")],1)},a=[],n=(s("b65f"),s("96cf"),s("1da1")),i=s("030d"),c=s("365c"),o={name:"RecordsTable",created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isMyRecordsTable){t.next=6;break}return t.next=3,Object(c["a"])("/records/my-records","get");case 3:e.records=t.sent.data,t.next=16;break;case 6:return t.prev=6,t.next=9,Object(c["a"])("/records/my-quiz-records","get",{headers:{quizID:e.$route.params.id}});case 9:e.records=t.sent.data,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](6),e.$router.push("/quizzes"),e.$store.dispatch("updateAlerts",{message:t.t0.response.data,color:"danger"});case 16:case"end":return t.stop()}}),t,null,[[6,12]])})))()},data:function(){return{records:null,quizTitle:"",isMyRecordsTable:"/quizzes"===this.$route.path}},methods:{humanizeDate:function(e){return new Date(e).toLocaleString()},computeTimeTaken:function(e,t){var s=new Date(e)-new Date(t),r=Math.trunc(s/36e5),a=Math.trunc(s%36e5/6e4),n=Math.trunc(s%6e4/1e3),i=(r?r+" hr"+(r>1?"s":"")+(a||n?", ":""):"")+(a?a+" min"+(a>1?"s":"")+(n?", ":""):"")+(n?n+" sec"+(n>1||0===n?"s":""):"");return i||"0 secs"},computeVariant:function(e,t){return t&&null!==t.pass_grade?e.grade>=t.pass_grade?"success":"danger":""}},components:{ContentLoading:i["a"]}},u=o,l=s("2877"),d=Object(l["a"])(u,r,a,!1,null,null,null);t["default"]=d.exports},c552:function(e,t,s){},caad:function(e,t,s){"use strict";var r=s("23e7"),a=s("4d64").includes,n=s("44d2"),i=s("ae40"),c=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!c},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},ffc2:function(e,t,s){"use strict";var r=s("948e"),a=s.n(r);a.a}}]);
//# sourceMappingURL=chunk-afd927e8.1e07018e.js.map