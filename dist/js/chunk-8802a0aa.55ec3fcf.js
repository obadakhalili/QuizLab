(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8802a0aa"],{"77be":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-row",[a("b-col",{attrs:{md:"6"}},[a("UpdateAccountInfoForm",{staticClass:"mb-5"})],1),a("b-col",{attrs:{md:"6"}},[a("UpdateAvatarForm"),a("DeleteAvatarForm",{staticClass:"my-5"}),a("DeleteAccountForm")],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.updateAvatar(t)}}},[a("h3",[e._v("Update Avatar")]),a("b-form-file",{staticClass:"my-2",model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}}),a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{cols:"6"}},[a("b-button",{attrs:{type:"submit",variant:"secondary"}},[e.avatarIsUpdating?a("b-spinner",{attrs:{small:""}}):e._e(),e.avatarIsUpdating?e._e():a("span",[e._v("Upload")])],1)],1),a("b-col",{attrs:{cols:"6"}},[a("small",[e._v(" 1.5 mb maximum, and .png, .jpg or .jpeg only ")])])],1)],1)},o=[],u=(a("96cf"),a("1da1")),c=a("365c"),i={name:"UpdateAvatarForm",data:function(){return{avatar:null,avatarIsUpdating:!1}},methods:{updateAvatar:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.submitter,t.avatarIsUpdating=!0,r.disabled=!0,n=new FormData,n.set("avatar",t.avatar),a.prev=5,a.next=8,Object(c["a"])("/users/avatar","post",n);case 8:t.$store.dispatch("updateAlerts",{message:"Photo uploaded successfully",color:"success"}),location.reload(),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](5),t.$store.dispatch("updateAlerts",{message:a.t0.response.data,color:"danger"});case 15:return a.prev=15,t.avatarIsUpdating=!1,r.disabled=!1,a.finish(15);case 19:case"end":return a.stop()}}),a,null,[[5,12,15,19]])})))()}}},l=i,d=a("2877"),p=Object(d["a"])(l,s,o,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"mx-auto"},[a("h3",[e._v("Delete Your Avatar")]),a("b-button",{attrs:{variant:"danger"},on:{click:e.confirm}},[e._v("Delete")])],1)},v=[],h={name:"DeleteAvatarForm",methods:{confirm:function(){var e=this;this.$store.dispatch("updateModalInfo",{message:"Are you sure you want to delete your avatar?",procedure:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])("/users/avatar","delete");case 3:a=t.sent,e.$store.dispatch("updateAlerts",{message:a.data,color:"success"}),location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$store.dispatch("updateAlerts",{message:t.t0.response.data,color:"danger"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function a(){return t.apply(this,arguments)}return a}()}),this.$bvModal.show("confirm-modal")}}},b=h,g=Object(d["a"])(b,f,v,!1,null,null,null),w=g.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.updateAccount(t)}}},[a("h3",[e._v("Account Info")]),a("b-form-group",[a("label",[e._v("Name")]),a("b-input",{staticClass:"mb-2",attrs:{placeholder:"First name"},model:{value:e.userFirstname,callback:function(t){e.userFirstname=t},expression:"userFirstname"}}),a("b-input",{attrs:{placeholder:"Last name"},model:{value:e.userLastname,callback:function(t){e.userLastname=t},expression:"userLastname"}})],1),a("b-form-group",[a("label",[e._v("Email")]),a("b-input",{attrs:{type:"email",placeholder:"Enter a new email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}})],1),a("b-form-group",[a("label",[e._v("Password")]),a("b-input",{attrs:{type:"password",placeholder:"Enter a new password"},model:{value:e.passwordInput,callback:function(t){e.passwordInput=t},expression:"passwordInput"}})],1),a("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Update")])],1)},x=[],I=(a("99af"),a("d81d"),{name:"UpdateAccountInfoForm",data:function(){var e,t,a;return{firstnameInput:null!==(e=this.$store.getters.userField("firstname"))&&void 0!==e?e:"",lastnameInput:null!==(t=this.$store.getters.userField("lastname"))&&void 0!==t?t:"",emailInput:null!==(a=this.$store.getters.userField("email"))&&void 0!==a?a:"",passwordInput:""}},computed:{userFirstname:{get:function(){return this.$store.getters.userField("firstname")},set:function(e){this.firstnameInput=e}},userLastname:{get:function(){return this.$store.getters.userField("lastname")},set:function(e){this.lastnameInput=e}},userEmail:{get:function(){return this.$store.getters.userField("email")},set:function(e){this.emailInput=e}}},watch:{userFirstname:function(e){this.firstnameInput=e},userLastname:function(e){this.lastnameInput=e},userEmail:function(e){this.emailInput=e}},methods:{updateAccount:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])("/users","patch",{name:"".concat(e.firstnameInput," ").concat(e.lastnameInput),email:e.emailInput,password:e.passwordInput||void 0});case 3:a=t.sent,a.data.userIsModified?(e.$store.dispatch("updateUserInfo",a.data.user),e.$store.dispatch("updateAlerts",{message:"Updates were taken",color:"success"})):e.$store.dispatch("updateAlerts",{message:"No updates made",color:"info"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$store.dispatch("updateAlerts",t.t0.response.data.map((function(e){return{message:e,color:"danger"}})));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}}),F=I,_=Object(d["a"])(F,A,x,!1,null,null,null),$=_.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"mx-auto"},[a("h3",[e._v("Delete Account")]),a("b-form-group",{staticClass:"noselect"},[a("b-checkbox",{model:{value:e.deleteAccountQuizzes,callback:function(t){e.deleteAccountQuizzes=t},expression:"deleteAccountQuizzes"}},[e._v("Delete my quizzes")])],1),a("b-button",{attrs:{variant:"danger"},on:{click:e.confirm}},[e._v("Delete")])],1)},k=[],j=a("ce96"),U={name:"DeleteAccountForm",data:function(){return{deleteAccountQuizzes:!1}},methods:{confirm:function(){var e=this;this.$store.dispatch("updateModalInfo",{message:"Please be careful. This is not the usual yada yada, Are you sure you want to proceed with deleting this account?",procedure:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])("/users","delete",{headers:{deleteAccountQuizzes:e.deleteAccountQuizzes}});case 3:Object(j["b"])(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.$store.dispatch("updateAlerts",{message:t.t0.response.data,color:"danger"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));function a(){return t.apply(this,arguments)}return a}()}),this.$bvModal.show("confirm-modal")}}},E=U,z=Object(d["a"])(E,y,k,!1,null,null,null),D=z.exports,O={name:"Account",components:{UpdateAvatarForm:m,DeleteAvatarForm:w,UpdateAccountInfoForm:$,DeleteAccountForm:D}},C=O,R=Object(d["a"])(C,r,n,!1,null,null,null);t["default"]=R.exports},"99af":function(e,t,a){"use strict";var r=a("23e7"),n=a("d039"),s=a("e8b5"),o=a("861d"),u=a("7b0b"),c=a("50c4"),i=a("8418"),l=a("65f0"),d=a("1dde"),p=a("b622"),m=a("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",b=m>=51||!n((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=d("concat"),w=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:s(e)},A=!b||!g;r({target:"Array",proto:!0,forced:A},{concat:function(e){var t,a,r,n,s,o=u(this),d=l(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?o:arguments[t],w(s)){if(n=c(s.length),p+n>v)throw TypeError(h);for(a=0;a<n;a++,p++)a in s&&i(d,p,s[a])}else{if(p>=v)throw TypeError(h);i(d,p++,s)}return d.length=p,d}})}}]);
//# sourceMappingURL=chunk-8802a0aa.55ec3fcf.js.map